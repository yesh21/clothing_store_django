{% load static %}
<footer class="p-4 bg-gray-800 text-white" style="    font-family: 'Font Awesome 5 Free';">

    <div class="space-y-4">

        <div class="border-b border-gray-600 py-4">
            <div class="flex justify-between items-center text-xl" onclick="toggleCollapsible()">
                <span class="font-semibold pointer-events-none">
                    Shop
                </span>
                <i class="fas fa-chevron-right pointer-events-none">
                </i>
            </div>
            <div class="grid text-sm mt-2 ml-6 space-y-1 hidden">
                <a href="{% url 'core:product_by_category' '1' 'tshirts' %}">SHIRTS</a>
                <a href="{% url 'core:product_by_category' '1' 'tshirts'  %}">TSHIRTS</a>
                <a href="{% url 'core:product_by_category' '1' 'tshirts' %}">HOODIES</a>
                <a href="{% url 'core:product_by_category' '1' 'tshirts' %}">JEANS</a>
                <a href="{% url 'core:product_by_category' '1' 'tshirts' %}">SHORTS</a>
            </div>
        </div>
        <div class="border-b border-gray-600 py-4">
            <div class="flex justify-between items-center text-xl" onclick="toggleCollapsible()">
                <span class="font-semibold pointer-events-none">
                    About us
                </span>
                <i class="fas fa-chevron-right pointer-events-none">
                </i>
            </div>
            <div class="grid mt-2 ml-6 space-y-1 hidden">
                <a href={% url 'core:contact' %}>About Us</a>
                <a href={% url 'core:contact' %}>Contact Us</a>
            </div>
        </div>
        <div class="border-b border-gray-600 py-4">
            <div class="flex justify-between items-center" onclick="toggleCollapsible()">
                <span class="font-semibold pointer-events-none text-xl">
                    Social media
                </span>
                <i class="fas fa-chevron-down pointer-events-none">
                </i>
            </div>
            <div class="mt-2 ml-6 space-y-1">
                <div>
                    INSTAGRAM
                </div>
                <div>
                    FACEBOOK
                </div>
            </div>
        </div>
    </div>
    <div class="mt-4 text-gray-400 text-sm">
        <p>
            Â© hoodwork company 2024
        </p>
    </div>
    <div class="mt-4 flex space-x-4">
        <img alt="make in India logo" height="20" width="40" src="{% static 'media/aaz6bq8cw.webp' %}">
    </div>

</footer>

<script>
    setTimeout(() => {
        const message = document.getElementById('backendmessages');
        message.classList.add('opacity-0'); // Apply fade-out effect
        setTimeout(() => {
            message.style.display = 'none'; // Completely hide the element
        }, 1000); // Wait for transition duration to complete
    }, 2000);

    function toggleCollapsible() {
        const clickedButton = event.target;
        const content = clickedButton.nextElementSibling;
        // Toggle visibility
        content.classList.toggle('hidden');
        content.classList.toggle('block');
        // Update button text
        clickedButton.children[1].classList.toggle('fa-chevron-down');
        clickedButton.children[1].classList.toggle('fa-chevron-right');
    }
    const footer = document.querySelector('footer');
    gsap.to(footer, {
        scrollTrigger: {
            trigger: footer,
            start: "top bottom",
            onEnter: () => gsap.fromTo(footer, {
                backgroundColor: "initial",
                color: "initial"
            }, {
                backgroundColor: "#303337",
                color: "#ffffff",
                duration: 2
            }),
        }
    });

    function fetchMessages() {
        fetch('/ajax-messages/')
            .then(response => response.json())
            .then(data => {
                console.log(data)
                const messages = data.messages;
                const messageContainer = document.getElementById('backendmessages');
                messageContainer.style.display = 'block';
                messageContainer.classList.remove('opacity-0');
                // Clear existing messages
                messageContainer.innerHTML = '';
                // Display new messages
                messages.forEach(msg => {
                    const div = document.createElement('div');
                    div.className =
                        `bg-green-100 border border-green-400 text-green-700 p-2 mb-2 rounded relative`;
                    div.textContent = msg.message;
                    messageContainer.appendChild(div);
                });
                setTimeout(() => {
                    messageContainer.classList.add('opacity-0'); // Apply fade-out effect
                    setTimeout(() => {
                        messageContainer.style.display = 'none'; // Completely hide the element
                    }, 2000); // Wait for transition duration to complete
                }, 3000);
            })
            .catch(error => console.error('Error fetching messages:', error));
    }
</script>